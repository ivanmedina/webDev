<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Pokemon</title>
    <style>
        body {
        margin: 0;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #3366cc;
        }
    </style>
</head>
<body>

    <script>


        function renderChar(image){
            var div = document.createElement('img');
            div.setAttribute('src',image);
            document.body.append(div);
        }

        function renderMessage(message){
            var p = document.createElement('p');
            p.textContent=message;
            p.style.alignContent='center';
            document.body.append(p);
        }


/*         fetch('https://rickandmortyapi.com/api/character/1')
        .then(response=>response.json())
        .then(data=>{
            renderChar(data.image);
        })
        .catch(() => { renderMessage('character not found')}); */


/*     const hellos1=( )=> 
    {
        console.log("We fill this with setTimeOut... ")
        setTimeout(()=>
        {
            console.log('Hello 1');
            setTimeout(()=>{
                console.log('Hello 2');
                setTimeout(()=>{
                    console.log('Hello 3');
                    setTimeout(()=>{
                        console.log('Hello 4');
                    },2000);
                },2000);
            },2000);
        },2000);
    };

    const hellos2= new Promise((resolve,reject) => 
    {
        console.log("We fill this with setTimeOut... ")
        setTimeout(()=>
        {
            console.log('Hello 1');
            setTimeout(()=>{
                console.log('Hello 2');
                setTimeout(()=>{
                    console.log('Hello 3');
                    setTimeout(()=>{
                        console.log('Hello 4');
                        resolve('Ok, Bye ...');
                    },2000);
                },2000);
            },2000);
        },2000);
    });  */  

/*     hellos2.then((data)=>{

        console.log(data);
        renderMessage(data);
        renderMessage(data);

    }); */

/*     const hellos3= new Promise((resolve,reject) => 
    {
        console.log("We fill this with setTimeOut... ")
        setTimeout(()=>
        {
            console.log('Hello 1');
            setTimeout(()=>{
                console.log('Hello 2');
                reject('this doesnt work');
                setTimeout(()=>{
                    console.log('Hello 3');
                    setTimeout(()=>{
                        console.log('Hello 4');
                        resolve('Ok, Bye ...');
                    },2000);
                },2000);
            },2000);
        },2000);
    });   

    hellos3.then((data)=>{

        console.log(data);
        renderMessage(data) ;

    })
    .catch((data)=>{

        console.log(data);

    }); */

/*     function sayHello(hello,time=2000){
        return new Promise((resolve, reject)=>{
            setTimeout(()=>{
                resolve(hello);
            },time);
        });
    }  */

/*     sayHellos('whats up?').then((data)=>{
        renderMessage(data)
    });
 */

/*     function sayManyHellos(){

        return sayHello('Hello 1')
        .then((data)=>{renderMessage(data);return sayHello('Hello 2')})
        .then((data)=>{renderMessage(data);return sayHello('Hello 3')})
        .then((data)=>{renderMessage(data);return sayHello('Hello 4')})
    }

    sayManyHellos().then((data)=>{
        renderMessage(data);
    });
        
        
 */
    
 function getCharacter(character,time=2000){
    return new Promise((resolve, reject)=>{
        setTimeout(()=>{
            fetch('https://rickandmortyapi.com/api/character/'+character)
            .then(response=>response.json())
            .then(data=>{
            renderChar(data.image);
            resolve(data);
            })
            .catch(() => { reject('character not found')}); 
        },time);
        ;
    });
}  


/* printCharacter('1').then((data)=>{
    console.log(data.image);

}) */

/* function printManyCharacters(){
    return getCharacter('1')
    .then((data)=>{renderChar(data.image);return getCharacter('2')})
    .then((data)=>{renderChar(data.image);return getCharacter('3')})
    .then((data)=>{renderChar(data.image);return getCharacter('4')})
    .then((data)=>{renderChar(data.image);return getCharacter('5')})
}

printManyCharacters().then(data=>{
    renderChar(data.image);
}) */

Promise.all([
    getCharacter('1',1000),
    getCharacter('2',2000),
    getCharacter('3',3000),
    getCharacter('4',4000),
    getCharacter('5',5000),
])
.then((datas)=>{
    renderChar(datas[0].image);
    renderChar(datas[1].image);
    renderChar(datas[2].image);
    renderChar(datas[3].image);
    renderChar(datas[4].image);   
})
    </script>
</body>
</html>